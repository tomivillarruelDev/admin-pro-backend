import{A as i,Aa as N,B as p,Ba as Je,C as x,Ca as W,D as m,Da as Ke,E as u,Ea as ie,Fa as J,Ga as Qe,I as H,J as a,Ja as Xe,K as C,L as Le,M as B,N as R,O as j,P as G,Q as ze,R as L,S as I,T as E,V as qe,W as w,X as y,_ as z,a as Ae,b as $e,c as te,d as P,da as ne,e as oe,fa as ae,g as V,ga as se,i as A,ia as Oe,j as Be,k as $,ka as U,l as Me,la as M,m as h,ma as k,n as Re,na as le,o as je,p as v,pa as q,q as _,qa as ce,r as Ge,ra as We,s as b,sa as me,t as s,ta as pe,u as g,ua as de,v as f,va as ue,w as c,wa as ge,x as Ne,xa as fe,z as r}from"./chunk-QV7XXSNR.js";var he=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["pages-dashboard"]],decls:2,vars:0,template:function(e,n){e&1&&(r(0,"p"),a(1,"dashboard works!"),i())}})};var at=o=>({"is-invalid":o}),ve=class o{progress=50;btnClass="btn-primary";progressChange=new Ge;ngOnInit(){this.btnClass=`btn ${this.btnClass}`}changeValue(t){if(this.progress>=100&&t>0){this.progress=100,this.progressChange.emit(100);return}if(this.progress<=0&&t<0){this.progress=0,this.progressChange.emit(0);return}this.progress=this.progress+t,this.progressChange.emit(this.progress)}onChange(t){t>=100?this.progress=100:t<=0?this.progress=0:this.progress=t,this.progressChange.emit(this.progress)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["components-increaser"]],inputs:{progress:[0,"value","progress"],btnClass:"btnClass"},outputs:{progressChange:"progressChange"},decls:8,vars:6,consts:[[1,"input-group"],[1,"input-group-btn"],["type","button",3,"click","ngClass"],[1,"ti-minus"],["type","number","placeholder","Progreso",1,"form-control",3,"ngModelChange","ngClass","ngModel"],[1,"ti-plus"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"span",1)(2,"button",2),m("click",function(){return n.changeValue(-5)}),p(3,"i",3),i()(),r(4,"input",4),m("ngModelChange",function(d){return n.onChange(d)}),G("ngModelChange",function(d){return j(n.progress,d)||(n.progress=d),d}),i(),r(5,"span",1)(6,"button",2),m("click",function(){return n.changeValue(5)}),p(7,"i",5),i()()()),e&2&&(s(2),c("ngClass",n.btnClass),s(2),c("ngClass",L(4,at,n.progress<0||n.progress>100)),R("ngModel",n.progress),s(2),c("ngClass",n.btnClass))},dependencies:[qe,U,We,k,q]})};var be=class o{progress1=20;progress2=50;get getProgress1(){return`${this.progress1}%`}get getProgress2(){return`${this.progress2}%`}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["pages-progress"]],decls:24,vars:6,consts:[[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"progress","m-t-20"],["role","progressbar",1,"progress-bar","bg-primary","progress-bar-striped","active",2,"height","8px"],["role","progressbar",1,"progress-bar","bg-info","progress-bar-striped","active",2,"height","8px"],[1,"col-6"],[3,"progressChange","value"],["btnClass","btn-info",3,"progressChange","value"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),a(5,"Striped Progress bar"),i(),r(6,"div",5),p(7,"div",6),i()()()(),r(8,"div",1)(9,"div",2)(10,"div",3)(11,"h4",4),a(12,"Striped Progress bar"),i(),r(13,"div",5),p(14,"div",7),i()()()()(),r(15,"div",0)(16,"div",8)(17,"div",2)(18,"div",3)(19,"components-increaser",9),m("progressChange",function(d){return n.progress1=d}),i()()()(),r(20,"div",8)(21,"div",2)(22,"div",3)(23,"components-increaser",10),m("progressChange",function(d){return n.progress2=d}),i()()()()()),e&2&&(s(7),Ne("width",n.getProgress1),s(7),Ne("width",n.getProgress2),s(5),c("value",n.progress1),s(4),c("value",n.progress2))},dependencies:[ve],styles:[".progress.active[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .progress-bar.active[_ngcontent-%COMP%]{-webkit-animation:progress-bar-stripes 2s linear infinite;-o-animation:progress-bar-stripes 2s linear infinite;animation:progress-bar-stripes 2s linear infinite}.progress-vertical[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px}.progress-vertical-bottom[_ngcontent-%COMP%]{min-height:250px;height:250px;position:relative;display:inline-block;margin-bottom:0;margin-right:20px;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.progress-animated[_ngcontent-%COMP%]{-webkit-animation-duration:5s;-webkit-animation-name:_ngcontent-%COMP%_myanimation;-webkit-transition:5s all;animation-duration:5s;animation-name:_ngcontent-%COMP%_myanimation;-o-transition:5s all;transition:5s all}@-webkit-keyframes _ngcontent-%COMP%_myanimation{0%{width:0}}@keyframes _ngcontent-%COMP%_myanimation{0%{width:0}}"]})};var Se=class o{title="Doughnut Chart";colors=["#6857E6","#009FEE","#F02059"];doughnutChartLabels=["Label 1","Label 2","Label 3"];doughnutChartData=[100,30,50];doughnutChartDatasets=[{data:this.doughnutChartData,label:"Series A",backgroundColor:this.colors}];doughnutChartOptions={responsive:!0,maintainAspectRatio:!1,cutout:"50%",plugins:{legend:{display:!0,position:"top"},tooltip:{enabled:!0,callbacks:{label:function(t){return t.label+": "+t.raw}}}},animation:{animateScale:!0,animateRotate:!0}};ngOnInit(){this.doughnutChartDatasets=[{data:this.doughnutChartData,label:"Series A",backgroundColor:this.colors}]}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["components-doughnut-chart"]],inputs:{title:[0,"value","title"],doughnutChartLabels:[0,"labels","doughnutChartLabels"],doughnutChartData:[0,"data","doughnutChartData"]},decls:6,vars:6,consts:[[1,"card"],[1,"card-body"],[2,"display","block"],["baseChart","",3,"labels","datasets","options","legend","type"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h3"),a(3),i(),r(4,"div",2),p(5,"canvas",3),i()()()),e&2&&(s(3),C(n.title),s(2),c("labels",n.doughnutChartLabels)("datasets",n.doughnutChartDatasets)("options",n.doughnutChartOptions)("legend",!0)("type","doughnut"))},dependencies:[Xe]})};var Ce=class o{labels1=["Download Sales","In-Store Sales","Mail-Order Sales"];data1=[350,450,100];static \u0275fac=function(e){return new(e||o)};static \u0275cmp=h({type:o,selectors:[["app-graph1"]],decls:10,vars:2,consts:[[1,"row"],[1,"col-6"],["value","Ventas",3,"labels","data"],["value","Compras"],["value","Cambios"],["value","Devoluciones"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),p(2,"components-doughnut-chart",2),i(),r(3,"div",1),p(4,"components-doughnut-chart",3),i()(),r(5,"div",0)(6,"div",1),p(7,"components-doughnut-chart",4),i(),r(8,"div",1),p(9,"components-doughnut-chart",5),i()()),e&2&&(s(2),c("labels",n.labels1)("data",n.data1))},dependencies:[Se]})};var xe=class o{constructor(t){this.settingsService=t}$links;ngOnInit(){this.settingsService.checkCurrentTheme()}changeTheme(t){this.settingsService.changeTheme(t)}static \u0275fac=function(e){return new(e||o)(g(Ke))};static \u0275cmp=h({type:o,selectors:[["pages-account-settings"]],decls:51,vars:0,consts:[[1,"row"],[1,"col-4"],[1,"card"],[1,"card-body"],[1,"ti-paint-bucket"],[1,"r-panel-body"],["id","themecolors",1,"m-t-20"],["data-theme","default",1,"selector","default-theme",3,"click"],["data-theme","green",1,"selector","green-theme",3,"click"],["data-theme","red",1,"selector","red-theme",3,"click"],["data-theme","blue",1,"selector","blue-theme",3,"click"],["data-theme","purple",1,"selector","purple-theme",3,"click"],["data-theme","megna",1,"selector","megna-theme",3,"click"],[1,"d-block","m-t-30"],["data-theme","default-dark",1,"selector","default-dark-theme",3,"click"],["data-theme","green-dark",1,"selector","green-dark-theme",3,"click"],["data-theme","red-dark",1,"selector","red-dark-theme",3,"click"],["data-theme","blue-dark",1,"selector","blue-dark-theme","working",3,"click"],["data-theme","purple-dark",1,"selector","purple-dark-theme",3,"click"],["data-theme","megna-dark",1,"selector","megna-dark-theme",3,"click"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),p(5,"i",4),a(6," Modifique el estilo"),i(),r(7,"div",5)(8,"ul",6)(9,"li")(10,"b"),a(11,"Temas claros"),i()(),r(12,"li")(13,"a",7),m("click",function(){return n.changeTheme("default")}),a(14,"1"),i()(),r(15,"li")(16,"a",8),m("click",function(){return n.changeTheme("green")}),a(17,"2"),i()(),r(18,"li")(19,"a",9),m("click",function(){return n.changeTheme("red")}),a(20,"3"),i()(),r(21,"li")(22,"a",10),m("click",function(){return n.changeTheme("blue")}),a(23,"4"),i()(),r(24,"li")(25,"a",11),m("click",function(){return n.changeTheme("purple")}),a(26,"5"),i()(),r(27,"li")(28,"a",12),m("click",function(){return n.changeTheme("megna")}),a(29,"6"),i()(),r(30,"li",13)(31,"b"),a(32,"Temas oscuros"),i()(),r(33,"li")(34,"a",14),m("click",function(){return n.changeTheme("default-dark")}),a(35,"7"),i()(),r(36,"li")(37,"a",15),m("click",function(){return n.changeTheme("green-dark")}),a(38,"8"),i()(),r(39,"li")(40,"a",16),m("click",function(){return n.changeTheme("red-dark")}),a(41,"9"),i()(),r(42,"li")(43,"a",17),m("click",function(){return n.changeTheme("blue-dark")}),a(44,"10"),i()(),r(45,"li")(46,"a",18),m("click",function(){return n.changeTheme("purple-dark")}),a(47,"11"),i()(),r(48,"li")(49,"a",19),m("click",function(){return n.changeTheme("megna-dark")}),a(50,"12"),i()()()()()()()())},styles:["#themecolors[_ngcontent-%COMP%]   .selector[_ngcontent-%COMP%]{cursor:pointer}"]})};var Q=te(ie());function mt(o,t){if(o&1&&p(0,"img",22),o&2){let e=u();c("src",e.user.imageUrl,b)}}function pt(o,t){if(o&1&&p(0,"img",22),o&2){let e=u();c("src",e.imgTemp,b)}}var ye=class o{constructor(t,e,n){this.fb=t;this.userService=e;this.fileUploadService=n}profileForm;submittedForm=!1;imgTemp=null;imageToUpload=null;user;ngOnInit(){this.user=this.userService.user,this.createForm()}createForm(){this.profileForm=this.fb.group({name:[this.user.name||"",[M.required,M.minLength(3)]],email:[this.user.email||"",[M.required,M.email]]})}updateUser(){this.submittedForm=!0;let{name:t,email:e}=this.profileForm.value;!this.profileForm.valid||t===this.user.name&&e===this.user.email||this.userService.updateUser(this.profileForm.value).subscribe(()=>{let{name:n,email:l}=this.profileForm.value;this.user.name=n,this.user.email=l,Q.default.fire("Guardado","Cambios guardados correctamente","success")},n=>{Q.default.fire("Error",n.error.msg,"error")})}changeImage(t){let e=t.target.files[0];if(!e)return this.imgTemp=null;let n=new FileReader;this.imageToUpload=e,n.readAsDataURL(e),n.onloadend=()=>{this.imgTemp=n.result}}uploadImage(){return P(this,null,function*(){yield this.fileUploadService.updateImage(this.imageToUpload,"users",this.user.uid).then(t=>{if(t===!1){Q.default.fire("Error","No se pudo subir la imagen","error");return}else this.user.img=t,Q.default.fire("Guardado","Imagen de perfil actualizada","success")}).catch(t=>{console.log(t),Q.default.fire("Error","No se pudo subir la imagen","error")})})}static \u0275fac=function(e){return new(e||o)(g(fe),g(W),g(Qe))};static \u0275cmp=h({type:o,selectors:[["app-profile"]],decls:39,vars:6,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form","p-t-20",3,"ngSubmit","formGroup"],[1,"form-group"],["for","exampleInputuname"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname","placeholder","Username","formControlName","name",1,"form-control"],["for","exampleInputEmail1"],[1,"ti-email"],["type","email","id","exampleInputEmail1","placeholder","Enter email","formControlName","email",1,"form-control",3,"readonly"],["type","submit",1,"btn","btn-success","waves-effect","waves-light","m-r-10",3,"disabled"],[1,"d-flex","mb-5","justify-content-center"],["class","d-block img-avatar",3,"src",4,"ngIf"],[1,"flex"],["type","file",3,"change"],["type","button",1,"btn","btn-success","waves-effect","waves-light","m-r-10","mt-3",3,"click","disabled"],[1,"d-block","img-avatar",3,"src"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),a(5,"Mi perfil de usuario"),i(),r(6,"h6",5),a(7,"Ajustes"),i(),r(8,"form",6),m("ngSubmit",function(){return n.updateUser()}),r(9,"div",7)(10,"label",8),a(11,"User Name"),i(),r(12,"div",9)(13,"div",10),p(14,"i",11),i(),p(15,"input",12),i()(),r(16,"div",7)(17,"label",13),a(18,"Email address"),i(),r(19,"div",9)(20,"div",10),p(21,"i",14),i(),p(22,"input",15),i()(),r(23,"button",16),a(24,"Guardar cambios"),i()()()()(),r(25,"div",1)(26,"div",2)(27,"div",3)(28,"h4",4),a(29,"Avatar"),i(),r(30,"h6",5),a(31,"Imagen del usuario"),i(),r(32,"div",17),f(33,mt,1,1,"img",18)(34,pt,1,1,"img",18),i(),r(35,"div",19)(36,"input",20),m("change",function(d){return n.changeImage(d)}),i()(),r(37,"button",21),m("click",function(){return n.uploadImage()}),a(38,"Cambiar imagen"),i()()()()()),e&2&&(s(8),c("formGroup",n.profileForm),s(14),c("readonly",n.user.google),s(),c("disabled",n.profileForm.invalid),s(10),c("ngIf",!n.imgTemp),s(),c("ngIf",n.imgTemp),s(3),c("disabled",!n.imageToUpload))},dependencies:[y,ce,U,k,le,me,pe],encapsulation:2})};var X=te(ie());var Ye=N.base_url,T=class o{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}transformsUsers(t){return t.map(e=>new Je(e.name,e.email,"",e.img,e.google,e.role,e.uid))}search(t,e=""){let n=`${Ye}/all/collection/${t}/${e}`;return this.http.get(n,this.headers).pipe(oe(l=>{switch(t){case"users":return this.transformsUsers(l.results);case"hospitals":return l.results;case"doctors":return l.results;default:return[]}}))}searchGlobal(t){let e=`${Ye}/all/${t}`;return this.http.get(e,this.headers)}static \u0275fac=function(e){return new(e||o)($(z))};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})};function dt(o,t){o&1&&(r(0,"div",1)(1,"div",2)(2,"div",8)(3,"h4",9),a(4,"Cargando..."),i(),p(5,"img",10),a(6,"\xF1 "),r(7,"p",11),a(8,"Espere un momento por favor."),i()()()())}function ut(o,t){o&1&&(r(0,"span",34),a(1,"Google"),i())}function gt(o,t){o&1&&(r(0,"span",35),a(1,"Sistem"),i())}function ft(o,t){if(o&1){let e=x();r(0,"tr")(1,"td",24)(2,"img",25),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.openModal(l))}),i()(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td")(8,"select",26),G("ngModelChange",function(l){let d=v(e).$implicit;return j(d.role,l)||(d.role=l),_(l)}),m("change",function(){let l=v(e).$implicit,d=u(2);return _(d.changeRole(l))}),r(9,"option",27),a(10,"Administrador"),i(),r(11,"option",28),a(12,"Usuario"),i()()(),r(13,"td",24),f(14,ut,2,0,"span",29)(15,gt,2,0,"span",30),i(),r(16,"td",31)(17,"a",32),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.deleteUser(l))}),p(18,"i",33),i()()()}if(o&2){let e=t.$implicit;s(2),c("src",e.imageUrl,b),s(2),C(e.email),s(2),C(e.name),s(2),R("ngModel",e.role),s(6),c("ngIf",e.google),s(),c("ngIf",!e.google)}}function ht(o,t){if(o&1){let e=x();r(0,"div")(1,"button",36),m("click",function(){v(e);let l=u(2);return _(l.changePage(-5))}),a(2,"Anteriores"),i(),a(3," \xA0 "),r(4,"button",36),m("click",function(){v(e);let l=u(2);return _(l.changePage(5))}),a(5,"Siguientes"),i()()}}function vt(o,t){if(o&1&&(r(0,"div",12)(1,"div",2)(2,"div",3)(3,"div",4)(4,"h4",13),a(5),i(),r(6,"h6",14),a(7,"Lista de usuarios registrados en el sistema"),i(),r(8,"div",15)(9,"table",16)(10,"thead")(11,"tr")(12,"th",17),a(13,"Avatar"),i(),r(14,"th",18),a(15,"Email"),i(),r(16,"th",18),a(17,"Nombre"),i(),r(18,"th",19),a(19,"Rol"),i(),r(20,"th",19),a(21,"Auth"),i(),r(22,"th",20),a(23,"Acciones"),i()()(),r(24,"tbody",21),f(25,ft,19,6,"tr",22),i()()(),f(26,ht,6,0,"div",23),i()()()()),o&2){let e=u(),n=H(5);s(5),B("Total de Usuarios (",e.totalUsers,") - ",e.usersFrom,""),s(20),c("ngForOf",e.users),s(),c("ngIf",n.value.length===0)}}var Ee=class o{constructor(t,e,n){this.userService=t;this.searchesService=e;this.modalImageService=n}users=[];totalUsers=0;usersFrom=0;usersTemp=[];loading=!0;imgSubs;ngOnInit(){this.getUsers(),this.imgSubs=this.modalImageService.newImage.pipe(V(100)).subscribe(()=>{this.getUsers()})}ngOnDestroy(){this.imgSubs?.unsubscribe()}getUsers(){this.loading=!0,this.userService.getUsers(this.usersFrom).subscribe(({total:t,users:e})=>{this.totalUsers=t,this.users=e,this.usersTemp=e,this.loading=!1})}deleteUser(t){return t.uid===this.userService.uid?X.default.fire({title:"No puedes borrar tu propio usuario",text:"Tu usuario est\xE1 logueado actualmente",icon:"error"}):X.default.fire({title:"\xBFEst\xE1s seguro, quieres borrar este usuario?",text:`Est\xE1s a punto de eliminar a ${t.name} de los usuarios del sistema`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, borrar"}).then(e=>{e.isConfirmed&&this.userService.deleteUser(t).subscribe(()=>{this.getUsers(),X.default.fire({title:"Usuario eliminado",text:`El usuario ${t.name} ha sido eliminado correctamente`,icon:"success"})})})}changeRole(t){return X.default.fire({title:"\xBFEst\xE1s seguro, quieres actualizar el rol de este usuario?",text:`Est\xE1s a punto de actualizar el rol de ${t.name} a ${t.role}`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, actualizar"}).then(e=>{e.isConfirmed?this.userService.saveUser(t).subscribe(()=>{X.default.fire({title:"Rol actualizado",text:`Ahora ${t.name} es ${t.role}`,icon:"success"})}):this.getUsers()})}searchUser(t){return t.length==0?this.users=this.usersTemp:(this.loading=!0,this.searchesService.search("users",t).subscribe(e=>{this.users=e,this.loading=!1}))}changePage(t){this.usersFrom+=t,this.usersFrom<0?this.usersFrom=0:this.usersFrom>this.totalUsers&&(this.usersFrom-=t),this.getUsers()}openModal(t){this.modalImageService.openModal("users",t.uid,t.img)}static \u0275fac=function(e){return new(e||o)(g(W),g(T),g(J))};static \u0275cmp=h({type:o,selectors:[["app-users"]],decls:8,vars:2,consts:[["txtTerm",""],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar usuario",1,"form-control",3,"keyup"],["class","row animated fadeIn fast",4,"ngIf"],["class","row fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],["src","/images/puff.svg","width","50","alt",""],[1,"mb-0"],[1,"row","fadeIn","fast"],[1,"card-title"],[1,"card-subtitle"],[1,"table-responsive"],[1,"table","table-bordered","table-fixed"],[2,"width","10%"],[2,"width","25%"],[2,"width","15%"],[1,"text-nowrap",2,"width","10%"],[1,"support-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"td-center"],["alt","Avatar de Usuario",1,"avatar-img","border-radius-100","cursor",3,"click","src"],["name","","id","",1,"form-control",3,"ngModelChange","change","ngModel"],["value","ADMIN_ROLE"],["value","USER_ROLE"],["class","label label-success",4,"ngIf"],["class","label label-info",4,"ngIf"],[1,"text-nowrap","td-center"],["data-toggle","tooltip","data-original-title","Eliminar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"label","label-success"],[1,"label","label-info"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){if(e&1){let l=x();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),m("keyup",function(){v(l);let ee=H(5);return _(n.searchUser(ee.value))}),i()()()()(),f(6,dt,9,0,"div",6)(7,vt,27,4,"div",7)}e&2&&(s(6),c("ngIf",n.loading),s(),c("ngIf",!n.loading))},dependencies:[w,y,ue,ge,de,k,q],encapsulation:2})};var O=te(ie());var De=N.base_url,Y=class o{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getHospitals(t=0){return this.http.get(`${De}/hospitals?from=${t}`,this.headers)}createHospital(t){return this.http.post(`${De}/hospitals`,{name:t},this.headers)}updateHospital(t){let{_id:e,name:n}=t;return this.http.put(`${De}/hospitals/${e}`,{name:n},this.headers)}deleteHospital(t){let{_id:e}=t;return this.http.delete(`${De}/hospitals/${e}`,this.headers)}static \u0275fac=function(e){return new(e||o)($(z))};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})};var Pe=N.base_url,F=class o{transform(t,e){return t?t.includes("https")?t:t?`${Pe}/upload/${e}/${t}`:`${Pe}/upload/${e}/no-image`:`${Pe}/upload/${e}/no-image`}static \u0275fac=function(e){return new(e||o)};static \u0275pipe=je({name:"image",type:o,pure:!0})};function _t(o,t){o&1&&(r(0,"div",1)(1,"div",2)(2,"div",8)(3,"h4",9),a(4,"Cargando..."),i(),p(5,"img",10),r(6,"p",11),a(7,"Espere un momento por favor."),i()()()())}function bt(o,t){if(o&1){let e=x();r(0,"tr")(1,"td",29)(2,"img",30),I(3,"image"),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.openModal(l))}),i()(),r(4,"td")(5,"input",31),G("ngModelChange",function(l){let d=v(e).$implicit;return j(d.name,l)||(d.name=l),_(l)}),i()(),r(6,"td",32)(7,"div",33)(8,"a",34),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.updateHospital(l))}),p(9,"i",35),i(),r(10,"a",36),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.deleteHospital(l))}),p(11,"i",37),i()()()()}if(o&2){let e=t.$implicit;s(2),c("src",E(3,3,e.img,"hospitals"),b)("alt",e.name),s(3),R("ngModel",e.name)}}function St(o,t){if(o&1){let e=x();r(0,"div")(1,"button",38),m("click",function(){v(e);let l=u(2);return _(l.changePage(-5))}),a(2,"Anteriores"),i(),a(3," \xA0 "),r(4,"button",38),m("click",function(){v(e);let l=u(2);return _(l.changePage(5))}),a(5,"Siguientes"),i()()}}function Ct(o,t){if(o&1){let e=x();r(0,"div",12)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",13)(5,"div",14)(6,"h4",15),a(7),i(),r(8,"h6",16),a(9,"Lista de Hospitales registrados en el sistema"),i()(),r(10,"div",17)(11,"div",18)(12,"button",19),m("click",function(){v(e);let l=u();return _(l.openSweetCreate())}),p(13,"i",20),a(14," Crear nuevo hospital "),i()()()(),r(15,"div",21)(16,"table",22)(17,"thead")(18,"tr")(19,"th",23),a(20,"Foto"),i(),r(21,"th",24),a(22,"Nombre"),i(),r(23,"th",25),a(24,"Acciones"),i()()(),r(25,"tbody",26),f(26,bt,12,6,"tr",27),i()()(),f(27,St,6,0,"div",28),i()()()()}if(o&2){let e=u(),n=H(5);s(7),B("Total de Hospitales (",e.totalHospitals,") - ",e.hospitalsFrom,""),s(19),c("ngForOf",e.hospitals),s(),c("ngIf",n.value.length===0)}}var ke=class o{constructor(t,e,n){this.hospitalsService=t;this.modalImageService=e;this.searchesService=n}hospitals=[];totalHospitals=0;hospitalsFrom=0;hospitalsTemp=[];loading=!0;imgSubs;ngOnInit(){this.getHospitals(),this.imgSubs=this.modalImageService.newImage.pipe(V(100)).subscribe(()=>{this.getHospitals()})}ngOnDestroy(){this.imgSubs?.unsubscribe()}getHospitals(){this.loading=!0,this.hospitalsService.getHospitals().subscribe(t=>{this.hospitals=t.hospitals,this.totalHospitals=t.total,this.loading=!1})}updateHospital(t){return O.default.fire({title:"\xBFEst\xE1s seguro, quieres actualizar este hospital?",icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, actualizar"}).then(e=>{e.isConfirmed&&this.hospitalsService.updateHospital(t).subscribe(()=>{this.getHospitals(),O.default.fire({title:"Hospital actualizado",text:"El hospital ha sido actualizado correctamente",icon:"success"})})})}deleteHospital(t){return O.default.fire({title:"\xBFEst\xE1s seguro, quieres borrar este hospital?",text:`Est\xE1s a punto de eliminar a ${t.name} del sistema`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, borrar"}).then(e=>{e.isConfirmed&&this.hospitalsService.deleteHospital(t).subscribe(()=>{this.getHospitals(),O.default.fire({title:"Hospital eliminado",text:`El hospital ${t.name} ha sido eliminado correctamente`,icon:"success"})})})}openSweetCreate(){return P(this,null,function*(){let{value:t=""}=yield O.default.fire({title:"Crear nuevo hospital",text:"Ingrese el nombre del nuevo hospital",input:"text",inputPlaceholder:"Nombre del hospital",showCancelButton:!0});t!==""&&this.hospitalsService.createHospital(t).subscribe(()=>{this.getHospitals(),O.default.fire({title:"Hospital creado",text:`El hospital ${t} ha sido creado correctamente`,icon:"success"})})})}openModal(t){this.modalImageService.openModal("hospitals",t._id,t.img)}changePage(t){this.hospitalsFrom+=t,this.hospitalsFrom<0?this.hospitalsFrom=0:this.hospitalsFrom>this.totalHospitals&&(this.hospitalsFrom-=t),this.getHospitals()}searchHospital(t){return t.length==0?this.hospitals=this.hospitalsTemp:(this.loading=!0,this.searchesService.search("hospitals",t).subscribe(e=>{this.hospitals=e,this.loading=!1}))}static \u0275fac=function(e){return new(e||o)(g(Y),g(J),g(T))};static \u0275cmp=h({type:o,selectors:[["app-hospitals"]],decls:8,vars:2,consts:[["txtTerm",""],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Hospital",1,"form-control",3,"keyup"],["class","row animated fadeIn fast",4,"ngIf"],["class","row fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],["src","/images/puff.svg","width","50","alt",""],[1,"mb-0"],[1,"row","fadeIn","fast"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col-4"],[1,"text-right"],[1,"btn","btn-primary",3,"click"],[1,"mr-2","fa","fa-hospital"],[1,"table-responsive"],[1,"table","table-bordered","table-fixed"],[2,"width","10%"],[2,"width","80%"],[1,"text-nowrap",2,"width","10%"],[1,"support-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"td-center"],[1,"avatar-img","cursor",3,"click","src","alt"],["type","text","placeholder","Nombre del hospital",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-nowrap"],[1,"d-sm-flex","justify-content-around"],["data-toggle","tooltip","data-original-title","Guardar",1,"cursor",3,"click"],[1,"fa","fa-save","text-success"],["data-toggle","tooltip","data-original-title","Eliminar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){if(e&1){let l=x();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),m("keyup",function(){v(l);let ee=H(5);return _(n.searchHospital(ee.value))}),i()()()()(),f(6,_t,8,0,"div",6)(7,Ct,28,4,"div",7)}e&2&&(s(6),c("ngIf",n.loading),s(),c("ngIf",!n.loading))},dependencies:[w,y,U,k,q,F],encapsulation:2})};var Te=te(ie());var re=N.base_url,Z=class o{constructor(t){this.http=t}get token(){return localStorage.getItem("token")||""}get headers(){return{headers:{"x-token":this.token}}}getDoctors(t=0){return this.http.get(`${re}/doctors?from=${t}`,this.headers)}getDoctorById(t){return this.http.get(`${re}/doctors/${t}`,this.headers).pipe(oe(e=>e.doctor))}createDoctor(t){return this.http.post(`${re}/doctors`,t,this.headers)}updateDoctor(t){let{_id:e}=t;return this.http.put(`${re}/doctors/${e}`,t,this.headers)}deleteDoctor(t){let{_id:e}=t;return this.http.delete(`${re}/doctors/${e}`,this.headers)}static \u0275fac=function(e){return new(e||o)($(z))};static \u0275prov=A({token:o,factory:o.\u0275fac,providedIn:"root"})};var xt=()=>["/dashboard/doctor/new"],yt=o=>["/dashboard/doctor",o];function It(o,t){o&1&&(r(0,"div",1)(1,"div",2)(2,"div",8)(3,"h4",9),a(4,"Cargando..."),i(),p(5,"img",10),r(6,"p",11),a(7,"Espere un momento por favor."),i()()()())}function Et(o,t){if(o&1){let e=x();r(0,"tr")(1,"td",29)(2,"img",30),I(3,"image"),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.openModal(l))}),i()(),r(4,"td"),a(5),i(),r(6,"td",31)(7,"div",32)(8,"a",33),p(9,"i",34),i(),r(10,"a",35),m("click",function(){let l=v(e).$implicit,d=u(2);return _(d.deleteDoctor(l))}),p(11,"i",36),i()()()()}if(o&2){let e=t.$implicit;s(2),c("src",E(3,4,e.img,"doctors"),b)("alt",e.name),s(3),Le(" ",e.name," "),s(3),c("routerLink",L(7,yt,e._id))}}function Dt(o,t){if(o&1){let e=x();r(0,"div")(1,"button",37),m("click",function(){v(e);let l=u(2);return _(l.changePage(-5))}),a(2,"Anteriores"),i(),a(3," \xA0 "),r(4,"button",37),m("click",function(){v(e);let l=u(2);return _(l.changePage(5))}),a(5,"Siguientes"),i()()}}function wt(o,t){if(o&1){let e=x();r(0,"div",12)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",13)(5,"div",14)(6,"h4",15),a(7),i(),r(8,"h6",16),a(9,"Lista de Doctores registrados en el sistema"),i()(),r(10,"div",17)(11,"div",18)(12,"a",19),m("click",function(){v(e);let l=u();return _(l.openSweetCreate())}),p(13,"i",20),a(14," Crear nuevo doctor "),i()()()(),r(15,"div",21)(16,"table",22)(17,"thead")(18,"tr")(19,"th",23),a(20,"Foto"),i(),r(21,"th",24),a(22,"Nombre"),i(),r(23,"th",25),a(24,"Acciones"),i()()(),r(25,"tbody",26),f(26,Et,12,9,"tr",27),i()()(),f(27,Dt,6,0,"div",28),i()()()()}if(o&2){let e=u(),n=H(5);s(7),B("Total de Doctores (",e.totalDoctors,") - ",e.doctorsFrom,""),s(5),c("routerLink",ze(5,xt)),s(14),c("ngForOf",e.doctors),s(),c("ngIf",n.value.length===0)}}var Fe=class o{constructor(t,e,n){this.doctorsService=t;this.modalImageService=e;this.searchesService=n}doctors=[];totalDoctors=0;doctorsFrom=0;doctorsTemp=[];loading=!0;imgSubs;ngOnInit(){this.getDoctors(),this.imgSubs=this.modalImageService.newImage.pipe(V(100)).subscribe(()=>{this.getDoctors()})}ngOnDestroy(){this.imgSubs?.unsubscribe()}getDoctors(){this.loading=!0,this.doctorsService.getDoctors().subscribe(t=>{console.log(t),this.doctors=t.doctors,this.totalDoctors=t.total,this.loading=!1})}deleteDoctor(t){return Te.default.fire({title:"\xBFEst\xE1s seguro, quieres borrar este doctor?",text:`Est\xE1s a punto de eliminar al Doctor ${t.name} del sistema`,icon:"question",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xED, borrar"}).then(e=>{e.isConfirmed&&this.doctorsService.deleteDoctor(t).subscribe(()=>{this.getDoctors(),Te.default.fire({title:"Doctor eliminado",text:`El Doctor ${t.name} ha sido eliminado correctamente`,icon:"success"})})})}searchDoctor(t){return t.length==0?this.doctors=this.doctorsTemp:(this.loading=!0,this.searchesService.search("doctors",t).subscribe(e=>{this.doctors=e,this.loading=!1}))}openSweetCreate(){return P(this,null,function*(){let{value:t=""}=yield Te.default.fire({title:"Crear nuevo doctor",text:"Ingrese el nombre del nuevo doctor",input:"text",inputPlaceholder:"Nombre del doctor",showCancelButton:!0})})}openModal(t){this.modalImageService.openModal("doctors",t._id,t.img)}changePage(t){this.doctorsFrom+=t,this.doctorsFrom<0?this.doctorsFrom=0:this.doctorsFrom>this.totalDoctors&&(this.doctorsFrom-=t),this.getDoctors()}static \u0275fac=function(e){return new(e||o)(g(Z),g(J),g(T))};static \u0275cmp=h({type:o,selectors:[["app-doctors"]],decls:8,vars:2,consts:[["txtTerm",""],[1,"row","animated","fadeIn","fast"],[1,"col-12"],[1,"card"],[1,"card-body"],["type","text","placeholder","Buscar Doctor",1,"form-control",3,"keyup"],["class","row animated fadeIn fast",4,"ngIf"],["class","row fadeIn fast",4,"ngIf"],[1,"alert","alert-info","text-center"],[1,"alert-heading"],["src","/images/puff.svg","width","50","alt",""],[1,"mb-0"],[1,"row","fadeIn","fast"],[1,"row"],[1,"col-8"],[1,"card-title"],[1,"card-subtitle"],[1,"col-4"],[1,"text-right"],[1,"btn","btn-primary",3,"click","routerLink"],[1,"fa","fa-doctor"],[1,"table-responsive"],[1,"table","table-bordered","table-fixed"],[2,"width","10%"],[2,"width","80%"],[1,"text-nowrap",2,"width","10%"],[1,"support-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"td-center"],[1,"avatar-img","cursor","border-radius-100",3,"click","src","alt"],[1,"text-nowrap"],[1,"d-sm-flex","justify-content-around"],["data-toggle","tooltip","data-original-title","Guardar",1,"cursor",3,"routerLink"],[1,"fa","fa-pencil","text-inverse"],["data-toggle","tooltip","data-original-title","Eliminar",1,"cursor",3,"click"],[1,"fa","fa-close","text-danger"],[1,"btn","btn-secondary",3,"click"]],template:function(e,n){if(e&1){let l=x();r(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"input",5,0),m("keyup",function(){v(l);let ee=H(5);return _(n.searchDoctor(ee.value))}),i()()()()(),f(6,It,8,0,"div",6)(7,wt,28,6,"div",7)}e&2&&(s(6),c("ngIf",n.loading),s(),c("ngIf",!n.loading))},dependencies:[w,y,se,F],encapsulation:2})};var Ve=te(ie());function kt(o,t){if(o&1&&(r(0,"div",8)(1,"label",25),a(2,"Imagen"),i(),r(3,"div",26)(4,"div",27),p(5,"img",28),I(6,"image"),i()()()),o&2){let e=u();s(5),c("src",E(6,2,e.selectedDoctor.img,"doctors"),b)("alt",e.selectedDoctor.name)}}function Tt(o,t){if(o&1&&(r(0,"option",29),a(1),i()),o&2){let e=t.$implicit;c("value",e._id),s(),C(e.name)}}function Ft(o,t){if(o&1&&(r(0,"div",30)(1,"div",2)(2,"div",3)(3,"h4",4),a(4,"Hospital"),i(),r(5,"h6",5),a(6),i(),r(7,"div",27),p(8,"img",31),I(9,"image"),i()()()()),o&2){let e=u();s(6),C(e.selectedHospital.name),s(2),c("src",E(9,2,e.selectedHospital.img,"hospitals"),b)}}var He=class o{constructor(t,e,n,l,d){this.fB=t;this.hospitalsService=e;this.doctorsService=n;this.router=l;this.activatedRoute=d}doctorForm;submittedForm=!1;hospitals;selectedHospital;selectedDoctor;ngOnInit(){this.activatedRoute.params.subscribe(({id:t})=>{t!=="new"&&this.getDoctorById(t)}),this.getHospitals(),this.createForm(),this.getDataSelectedHospital()}getHospitals(){this.hospitalsService.getHospitals().subscribe(t=>this.hospitals=t.hospitals)}createForm(){this.doctorForm=this.fB.group({name:["",M.required],hospital:["",M.required]})}getDataSelectedHospital(){this.doctorForm.get("hospital")?.valueChanges.subscribe(t=>{this.selectedHospital=this.hospitals.find(e=>e._id===t)})}saveDoctor(){if(this.submittedForm=!0,!this.doctorForm.invalid)if(this.selectedDoctor){let t=$e(Ae({},this.doctorForm.value),{_id:this.selectedDoctor._id});this.doctorsService.updateDoctor(t).subscribe(()=>{Ve.default.fire({title:"Doctor actualizado",text:`Doctor ${this.doctorForm.value.name} actualizado correctamente`,icon:"success"})})}else this.doctorsService.createDoctor(this.doctorForm.value).subscribe(t=>{Ve.default.fire({title:"Doctor creado",text:`Doctor ${this.doctorForm.value.name} creado correctamente`,icon:"success"}),this.router.navigateByUrl(`/dashboard/doctor/${t.doctor._id}`)})}getDoctorById(t){this.doctorsService.getDoctorById(t).subscribe(e=>{this.selectedDoctor=e,this.setDoctorData(e)},e=>{console.log(e),this.router.navigateByUrl("/dashboard/doctors")})}setDoctorData(t){let{name:e,hospital:n}=t;this.doctorForm.setValue({name:e,hospital:n?._id})}static \u0275fac=function(e){return new(e||o)(g(fe),g(Y),g(Z),g(ae),g(ne))};static \u0275cmp=h({type:o,selectors:[["app-doctor"]],decls:35,vars:5,consts:[[1,"row"],[1,"col-md-6"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"card-subtitle"],[1,"form-horizontal","p-t-20",3,"ngSubmit","formGroup"],["class","form-group row",4,"ngIf"],[1,"form-group","row"],["for","exampleInputuname3",1,"col-sm-3","control-label"],[1,"col-sm-9"],[1,"input-group"],[1,"input-group-addon"],[1,"ti-user"],["type","text","id","exampleInputuname3","placeholder","Nombre","formControlName","name",1,"form-control"],["for","exampleInputEmail3",1,"col-sm-3","control-label"],[1,"fa","fa-hospital"],["formControlName","hospital",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","row","m-b-0"],[1,"offset-sm-3","col-sm-9"],["type","submit",1,"btn","btn-success","waves-effect","waves-light",3,"disabled"],[1,"mr-2","fa","fa-save"],["class","col-md-6 animated fadeIn fast",4,"ngIf"],["for","exampleInputuname3",1,"col-sm-12","control-label"],[1,"col-sm-12"],[1,"d-flex","mb-5","justify-content-center"],[1,"img-avatar","border-radius-100",3,"src","alt"],[3,"value"],[1,"col-md-6","animated","fadeIn","fast"],[1,"d-block","img-avatar",3,"src"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),a(5,"Nuevo Doctor"),i(),r(6,"h6",5),a(7,"Ingrese los datos del nuevo Doctor"),i(),r(8,"form",6),m("ngSubmit",function(){return n.saveDoctor()}),f(9,kt,7,5,"div",7),r(10,"div",8)(11,"label",9),a(12,"Nombre"),i(),r(13,"div",10)(14,"div",11)(15,"div",12),p(16,"i",13),i(),p(17,"input",14),i()()(),r(18,"div",8)(19,"label",15),a(20,"Hospital"),i(),r(21,"div",10)(22,"div",11)(23,"div",12),p(24,"i",16),i(),r(25,"select",17)(26,"option",18),a(27,"Seleccione el Hospital"),i(),f(28,Tt,2,2,"option",19),i()()()(),r(29,"div",20)(30,"div",21)(31,"button",22),p(32,"i",23),a(33," Guardar cambios "),i()()()()()()(),f(34,Ft,10,5,"div",24),i()),e&2&&(s(8),c("formGroup",n.doctorForm),s(),c("ngIf",n.selectedDoctor),s(19),c("ngForOf",n.hospitals),s(3),c("disabled",n.doctorForm.invalid),s(3),c("ngIf",n.selectedHospital))},dependencies:[w,y,ce,ue,ge,U,de,k,le,me,pe,F],encapsulation:2})};var Ht=o=>["/dashboard/doctor",o];function Ut(o,t){o&1&&(r(0,"div",6)(1,"p",7),a(2,"No se encontraron Usuarios registrados"),i()())}function Mt(o,t){if(o&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),p(4,"img",12),I(5,"image"),i(),r(6,"td"),a(7),i()()),o&2){let e=t.$implicit,n=t.index;s(2),C(n+1),s(2),c("src",E(5,4,e.img,"users"),b)("alt",e.name),s(3),C(e.name)}}function Nt(o,t){if(o&1&&(r(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),a(5,"#"),i(),r(6,"th"),a(7,"Avatar"),i(),r(8,"th"),a(9,"Nombre"),i()()(),r(10,"tbody",10),f(11,Mt,8,7,"tr",11),i()()()),o&2){let e=u();s(11),c("ngForOf",e.users)}}function Ot(o,t){o&1&&(r(0,"div",6)(1,"p",7),a(2,"No se encontraron Doctores registrados"),i()())}function Pt(o,t){if(o&1&&(r(0,"tr",14)(1,"td"),a(2),i(),r(3,"td"),p(4,"img",12),I(5,"image"),i(),r(6,"td"),a(7),i()()),o&2){let e=t.$implicit,n=t.index;c("routerLink",L(8,Ht,e._id)),s(2),C(n+1),s(2),c("src",E(5,5,e.img,"doctors"),b)("alt",e.name),s(3),C(e.name)}}function Vt(o,t){if(o&1&&(r(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),a(5,"#"),i(),r(6,"th"),a(7,"Avatar"),i(),r(8,"th"),a(9,"Nombre"),i()()(),r(10,"tbody",10),f(11,Pt,8,10,"tr",13),i()()()),o&2){let e=u();s(11),c("ngForOf",e.doctors)}}function At(o,t){o&1&&(r(0,"div",6)(1,"p",7),a(2,"No se encontraron resultados"),i()())}function $t(o,t){if(o&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),p(4,"img",15),I(5,"image"),i(),r(6,"td"),a(7),i()()),o&2){let e=t.$implicit,n=t.index;s(2),C(n+1),s(2),c("src",E(5,4,e.img,"hospitals"),b)("alt",e.name),s(3),C(e.name)}}function Bt(o,t){if(o&1&&(r(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th"),a(5,"#"),i(),r(6,"th"),a(7,"Foto"),i(),r(8,"th"),a(9,"Nombre"),i()()(),r(10,"tbody",10),f(11,$t,8,7,"tr",11),i()()()),o&2){let e=u();s(11),c("ngForOf",e.hospitals)}}var Ue=class o{constructor(t,e){this.activatedRoute=t;this.searchesService=e}users=[];hospitals=[];doctors=[];ngOnInit(){this.getTerm()}getTerm(){return this.activatedRoute.params.subscribe(({term:t})=>{console.log(t),this.searchesService.searchGlobal(t).subscribe(e=>{console.log(e),this.setResults(e)})})}setResults(t){this.users=t.users,this.hospitals=t.hospitals,this.doctors=t.doctors}static \u0275fac=function(e){return new(e||o)(g(ne),g(T))};static \u0275cmp=h({type:o,selectors:[["app-search"]],decls:22,vars:6,consts:[[1,"row","animated","fadeIn","fast"],[1,"col-4"],[1,"card"],[1,"card-body"],["class","alert alert-info animated fadeIn fast","role","alert",4,"ngIf"],["class","table-responsive",4,"ngIf"],["role","alert",1,"alert","alert-info","animated","fadeIn","fast"],[1,"mb-0"],[1,"table-responsive"],[1,"table"],[1,"animated","fadeIn","fast","support-table"],[4,"ngFor","ngForOf"],[1,"avatar-img","border-radius-100",3,"src","alt"],["class","cursor",3,"routerLink",4,"ngFor","ngForOf"],[1,"cursor",3,"routerLink"],[1,"avatar-img",3,"src","alt"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3"),a(5,"Usuarios"),i(),f(6,Ut,3,0,"div",4)(7,Nt,12,1,"div",5),i()()(),r(8,"div",1)(9,"div",2)(10,"div",3)(11,"h3"),a(12,"Doctores"),i(),f(13,Ot,3,0,"div",4)(14,Vt,12,1,"div",5),i()()(),r(15,"div",1)(16,"div",2)(17,"div",3)(18,"h3"),a(19,"Hospitales"),i(),f(20,At,3,0,"div",4)(21,Bt,12,1,"div",5),i()()()()),e&2&&(s(6),c("ngIf",n.users.length===0),s(),c("ngIf",n.users.length!==0),s(6),c("ngIf",n.doctors.length===0),s(),c("ngIf",n.doctors.length!==0),s(6),c("ngIf",n.hospitals.length===0),s(),c("ngIf",n.hospitals.length!==0))},dependencies:[w,y,se,F],encapsulation:2})};var ot=(o,t)=>{let e=Me(W),n=Me(ae);return e.user?.role==="ADMIN_ROLE"?!0:(n.navigateByUrl("/dashboard"),!1)};var Rt=[{path:"",component:he,data:{title:"Dashboard"}},{path:"progress",component:be,data:{title:"ProgressBar"}},{path:"graph1",component:Ce,data:{title:"Reporte de Gr\xE1ficos"}},{path:"account-settings",component:xe,data:{title:"Ajustes de cuenta"}},{path:"search/:term",component:Ue,data:{title:"Resultados"}},{path:"profile",component:ye,data:{title:"Mi perfil"}},{path:"hospitals",component:ke,data:{title:"Mantenimiento Hospitales"}},{path:"doctors",component:Fe,data:{title:"Mantenimiento de Doctores"}},{path:"doctor/:id",component:He,data:{title:"Mantenimiento de Doctor"}},{path:"users",canActivate:[ot],component:Ee,data:{title:"Usuarios del sistema"}}],nt=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=Re({type:o});static \u0275inj=Be({imports:[Oe.forChild(Rt),Oe]})};export{nt as ChildRoutesModule};
